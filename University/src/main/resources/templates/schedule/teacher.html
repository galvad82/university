<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>University - A schedule for a teacher</title>
</head>
<body>
	<div th:insert="navbar :: bootstrap" />
	<div th:insert="navbar :: navbar" />

	<h2>A schedule for a teacher</h2>

	<div class="container">
	<div class="row align-items-start">
		<div class="col"></div>
			<div class="col">
				<form class="row" th:action="@{/schedule/teacher/result}" th:method="POST" >
					<label>Teacher:</label>
					<select id="sel" class="form-select" th:onChange="changeTeacher()">
						<option th:each="t : ${listOfTeachers}" th:text="${t.firstName}+' '+${t.lastName}" />
					</select>
					<input type="hidden" th:name="firstName" th:id="firstName" th:value="${firstName}" />
					<input type="hidden" th:name="lastName" th:id="lastName" th:value="${lastName}" />
					<p>
						<span class="red">*</span> indicates a required field
					</p>
					<button type="submit" class="btn btn-primary mb-3">Get a schedule</button>
				</form>
			</div>
		<div class="col"></div>
	</div>
	</div>
	
	<script th:inline="javascript">
            function changeTeacher() {
                var listOfTeachers = /*[[${listOfTeachers}]]*/ null;
                var t = listOfTeachers[document.getElementById("sel").selectedIndex];
                document.getElementById("firstName").value=t.firstName;
                document.getElementById("lastName").value=t.lastName;
            }
            $(function() { changeTeacher(); });
	</script>

</body>
</html>